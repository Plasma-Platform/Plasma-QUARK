!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],e):"object"==typeof exports?exports.quark=e(require("react"),require("prop-types")):t.quark=e(t.React,t.PropTypes)}(this,function(t,e){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=130)}({0:function(e,o){e.exports=t},130:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},r=o(0),l=n(r),a=o(36),s=n(a),u=function(t){return l.default.createElement(s.default,i({type:5,showButton:!1,showLabel:!1},t))};e.default=u},2:function(t,o){t.exports=e},36:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=o(0),p=n(u),d=o(2),c=n(d);o(38);var f=function(t){function e(t){r(this,e);var o=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));o.state={open:o.props.defaultOpen,showContent:!1,filterQuery:o.props.defaultFilterQuery},o.getOptionsListMaxHeight=function(){var t=[].concat(i(o.optionsList.querySelectorAll(".tm-quark-dropdown__option"))),e=0,n=Math.min(t.length-1,o.props.optionsToShow-1);return t.slice(0,n+1).forEach(function(i,r){e+=(n===r&&t.length)>(o.props.optionsToShow?i.offsetHeight/2:i.offsetHeight)}),e},o.getContainerCoordinates=function(){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),e=o.container.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+n,bottom:t-(e.bottom+n)}},o.getFilteredOptions=function(){var t=o.state.filterQuery.toLowerCase().trim(),e=new RegExp("\\b"+t,"gi");return o.props.options.filter(function(t){return t.label.search(e)>=0})},o.getOptionByValue=function(t){return t?o.props.options.find(function(e){return e.value===t}):null},o.filterOptions=function(t){o.setState({filterQuery:t})},o.toggle=function(){o.state.showContent?o.close():o.open()},o.open=function(){o.setState(function(){return{open:!0,showContent:!1}},o.showContent)},o.showContent=function(){o.props.onOpen(o.getValue()),o.props.closeOnClickOutside&&window.addEventListener("click",o.handleDropdownBlur),o.setState(function(){return{open:!0,showContent:!0}})},o.close=function(){o.props.closeOnClickOutside&&window.removeEventListener("click",o.handleDropdownBlur),o.hideContent()},o.hideContent=function(){o.setState(function(){return{open:!0,showContent:!1}})},o.handleContentAnimationEnd=function(t){t.target===o.content&&(o.state.showContent?o.handleShowContentAnimationEnd():o.handleHideContentAnimationEnd())},o.handleShowContentAnimationEnd=function(){o.filterInput&&o.filterInput.focus()},o.handleHideContentAnimationEnd=function(){o.button&&o.button.blur(),o.setState(function(){return{open:!1,showContent:!1}},function(){o.props.onClose&&o.props.onClose(o.getValue())})},o.handleDropdownBlur=function(t){!o.container.contains(t.target)&&t.target!==o.container&&o.state.showContent&&o.close()},o.handleContainerKeyDown=function(t){27===t.keyCode&&o.close()},o.handleButtonKeyDown=function(t){40===t.keyCode&&(o.fileInput?o.filterInput.focus():o.option0&&o.option0.focus())},o.handleFilterInputKeyDown=function(t){var e=t.keyCode;13===e?t.stopPropagation():40===e&&o.option0&&o.option0.focus()},o.handleOptionKeyDown=function(t,e,n){var i=t.keyCode;13===i?o.handleOptionSelect(e):40===i&&o["option"+(n+1)]?o["option"+(n+1)].focus():38===i&&(o["option"+(n-1)]&&n-1>=0?o["option"+(n-1)].focus():o.filterInput&&o.filterInput.focus())},o.handleOptionSelect=function(t){o.selectedOption=t,o.currentValue=t.value,o.props.onChange&&o.props.onChange(t.value),o.close()};var n=o.props.options[0]||{};return o.defaultSelectedOption=o.getOptionByValue(o.props.value)||o.getOptionByValue(o.props.defaultValue)||n.value,o.openContentPosition="bottom",o.optionsListMaxHeight="100%",o.showOptionsListScrollBar=!1,o}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.props.defaultOpen&&this.showContent()}},{key:"componentWillUnmount",value:function(){this.state.showContent&&this.props.closeOnClickOutside&&window.removeEventListener("click",this.handleDropdownBlur)}},{key:"getValue",value:function(){return this.currentValue}},{key:"render",value:function(){var t=this,e=this.getFilteredOptions(),o=this.props.showSelectedOption?e:e.filter(function(e){return e.value!==t.currentValue});if(this.state.showContent){var n=this.getContainerCoordinates().top,i=this.getContainerCoordinates().bottom,r=this.getOptionsListMaxHeight();r>i-20?n>i?(this.showOptionsListScrollBar=r>n-20||o.length>this.props.optionsToShow,this.optionsListMaxHeight=Math.min(r,n-20)+"px",this.openContentPosition="top"):(this.showOptionsListScrollBar=!0,this.optionsListMaxHeight=i-20):(this.showOptionsListScrollBar=o.length>this.props.optionsToShow,this.optionsListMaxHeight=r+"px",this.openContentPosition="bottom")}this.selectedOption=this.getOptionByValue(this.props.value)||this.getOptionByValue(this.currentValue)||this.defaultSelectedOption,this.currentValue=this.selectedOption?this.selectedOption.value:null;var l=-1,a=0;return p.default.createElement("div",{className:"tm-quark-dropdown tm-quark-dropdown_open-position_"+this.openContentPosition+" tm-quark-dropdown_"+(this.state.showContent?"open":"closed")+" tm-quark-dropdown_type_"+this.props.type+" "+(this.props.disabled?"tm-quark-dropdown_disabled":"")+" "+this.props.className,id:this.props.id,name:this.props.name,tabIndex:"-1",onKeyDown:this.handleContainerKeyDown,ref:function(e){t.container=e},role:"presentation"},!1===this.props.showLabelInButton&&this.props.showLabel&&p.default.createElement("span",{className:"tm-quark-dropdown__label tm-quark-dropdown__label_size_"+this.props.labelSize+(this.props.disabled?" tm-quark-dropdown__label_disabled":""),ref:function(e){t.label=e}},this.props.label),this.props.showButton&&p.default.createElement("button",{className:"tm-quark-dropdown__button"+(this.state.showContent?" tm-quark-dropdown__button_open":"")+" tm-quark-dropdown__button_size_"+this.props.buttonSize+(this.props.disabled?" tm-quark-dropdown__button_disabled":""),"aria-label":this.props.label,type:"button",onClick:this.toggle,onKeyDown:this.handleButtonKeyDown,ref:function(e){t.button=e}},p.default.createElement("span",{className:"tm-quark-dropdown__button-inner"},this.props.showLabelInButton&&this.props.showLabel&&p.default.createElement("span",{className:"tm-quark-dropdown__label tm-quark-dropdown__label_size_"+this.props.labelSize+(this.props.disabled?" tm-quark-dropdown__label_disabled":""),ref:function(e){t.label=e}},this.props.label),this.props.buttonContent?p.default.createElement("span",{className:"tm-quark-dropdown__button-content"},p.default.createElement("span",{className:"tm-quark-dropdown__button-label-content"},this.props.buttonContent)):p.default.createElement("span",{className:"tm-quark-dropdown__button-content"},this.selectedOption&&this.selectedOption.icon&&!this.props.optionIconRadioStyle&&p.default.createElement("i",{className:"tm-quark-dropdown__icon tm-quark-dropdown__icon_size_medium icon icon-"+this.selectedOption.icon}),p.default.createElement("span",{className:"tm-quark-dropdown__button-label-content"},this.props.showOptionHTMLInButton&&!!this.selectedOption&&(this.selectedOption.html||this.selectedOption.label))),p.default.createElement("span",{className:"tm-quark-dropdown__button-arrow"}))),this.state.open&&p.default.createElement("div",{className:"tm-quark-dropdown__content"+(this.state.showContent?" tm-quark-dropdown__content_animate_show":" tm-quark-dropdown__content_animate_hide"),onAnimationEnd:this.handleContentAnimationEnd,ref:function(e){t.content=e}},this.props.showFilterBox&&p.default.createElement("div",{className:"tm-quark-dropdown__filter-box",ref:function(e){t.filterBox=e}},p.default.createElement("input",{className:"tm-quark-dropdown__filter-input",type:"search",placeholder:this.props.filterBoxPlaceholder,value:this.state.filterQuery,tabIndex:this.state.showContent?"0":"-1",onChange:function(e){t.filterOptions(e.target.value)},onKeyDown:this.handleFilterInputKeyDown,ref:function(e){t.filterInput=e}})),this.props.options.length&&p.default.createElement("ul",{className:"tm-quark-dropdown__options",style:{maxHeight:this.optionsListMaxHeight,overflow:this.showOptionsListScrollBar?"auto":null},ref:function(e){t.optionsList=e}},o.length>0?o.map(function(e){e.disabled?a-=1:l+=1;var o=e.icon?"tm-quark-dropdown__icon tm-quark-dropdown__icon_size_"+t.props.optionIconSize+" icon icon-"+e.icon:null,n=t.props.optionIconRadioStyle?"tm-quark-dropdown__icon tm-quark-dropdown__icon_size_medium tm-quark-dropdown__icon_type_radio":o,i=e.disabled?a:l;return p.default.createElement("li",{className:"tm-quark-dropdown__option "+(e.disabled?"tm-quark-dropdown__option_disabled ":"")+"tm-quark-dropdown__option_size_"+t.props.optionSize+(e.value===t.currentValue&&t.props.highlightSelectedOption?" tm-quark-dropdown__option_selected":""),tabIndex:e.disabled||!1===t.state.showContent?-1:0,onClick:function(){t.handleOptionSelect(e)},onKeyDown:function(o){t.handleOptionKeyDown(o,e,i)},ref:function(e){t["option"+i]=e},key:e.value,role:"option","aria-selected":!e.disabled&&e.value===t.currentValue},n&&p.default.createElement("i",{className:n}),e.html||e.label)}):this.state.filterQuery.length>0&&p.default.createElement("li",{className:"tm-quark-dropdown__option tm-quark-dropdown__option_size_"+this.props.optionSize+" tm-quark-dropdown__option_type_no-filter-results"},this.props.filterNoResultsText+' "'+this.state.filterQuery+'"'))))}}]),e}(p.default.Component);f.propTypes={id:c.default.string,name:c.default.string,defaultOpen:c.default.bool,closeOnClickOutside:c.default.bool,defaultValue:c.default.node,value:c.default.node,showLabel:c.default.bool,label:c.default.string,showLabelInButton:c.default.bool,labelSize:c.default.oneOf(["small","medium"]),showButton:c.default.bool,buttonContent:c.default.node,showOptionHTMLInButton:c.default.bool,buttonSize:c.default.oneOf(["medium","large"]),showFilterBox:c.default.bool,defaultFilterQuery:c.default.string,filterBoxPlaceholder:c.default.string,filterNoResultsText:c.default.string,options:c.default.arrayOf(c.default.object),optionsToShow:c.default.number,optionSize:c.default.oneOf(["medium","large"]),showSelectedOption:c.default.bool,highlightSelectedOption:c.default.bool,optionIconRadioStyle:c.default.bool,optionIconSize:c.default.oneOf(["medium","large"]),disabled:c.default.bool,onOpen:c.default.func,onChange:c.default.func,onClose:c.default.func,className:c.default.string,type:c.default.oneOf([1,2,3,4,5,5,6,7])},f.defaultProps={defaultOpen:!1,closeOnClickOutside:!0,showLabel:!0,showLabelInButton:!1,labelSize:"medium",showButton:!0,showOptionHTMLInButton:!0,buttonSize:"medium",showFilterBox:!1,defaultFilterQuery:"",filterBoxPlaceholder:"",filterNoResultsText:"No results match",options:[],optionsToShow:5,optionSize:"medium",showSelectedOption:!0,highlightSelectedOption:!0,optionIconRadioStyle:!1,optionIconSize:"medium",disabled:!1,onOpen:function(){},onChange:function(){},onClose:function(){},buttonContent:null,label:null,id:null,name:null,defaultValue:null,value:null,className:"",type:1},e.default=f},38:function(t,e){}})});