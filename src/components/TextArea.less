@import "../assets/styles/variables";

.text-area {
  display: block;
  resize: none;

  //&_wrapper {
  //  position: relative;
  //
  //  &:after {
  //    background: @light-grey;
  //    border-radius: 3px 0 0 0;
  //    box-shadow: inset 0 1px 0 0 @light-grey-2;
  //    content: "";
  //    display: block;
  //    height: @spacing4x;
  //    left: 1px;
  //    position: absolute;
  //    top: 1px;
  //    transition: .3s;
  //    width: ~'calc(100% - 45px)';
  //    z-index: 5;
  //  }
  //
  //  &.text-area_focused {
  //    &:after {
  //      background: @color-white;
  //      box-shadow: none;
  //    }
  //  }
  //}
  &:after {
    content: '';
    display: block;
    position: absolute;
    bottom: 5px;
    left: 1px;
    width: calc(~'100% - 17px');
    height: 20px;
    border-bottom-left-radius: 3px;
    background: #eceff1;
    transition: background .3s;
  }

  & &__input {
    padding-top: @spacing2x;
    padding-right: 50px;
    padding-bottom: @spacing2x;
    min-height: 125px;
  }

  //&__input {
  //  background: @light-grey;
  //  border: 1px solid transparent;
  //  border-radius: 3px;
  //  box-shadow: inset 0 1px 0 0 @light-grey-2;
  //  color: @basic;
  //  font-size: 14px;
  //  height: auto;
  //  max-height: 274px;
  //  min-height: 110px;
  //  outline: none;
  //  padding: @spacing4x @spacing2x @spacing2x @spacing2x;
  //  transition: .3s;
  //  width: 100%;
  //
  //  &::placeholder {
  //    color: @secodary;
  //  }
  //
  //  &:focus {
  //    background: @color-white;
  //    border-color: @light-blue;
  //    box-shadow: none;
  //
  //    &::placeholder {
  //      color: @light-blue-2;
  //    }
  //  }
  //
  //  &:disabled {
  //    background: @color-white;
  //    border-color: @light-grey;
  //    box-shadow: none;
  //    color: @light-grey-2;
  //    cursor: not-allowed;
  //    user-select: none;
  //
  //    &::placeholder,
  //    & ~ .text-area__label {
  //      color: @light-grey-2;
  //      user-select: none;
  //    }
  //  }
  //}

  & &__label {
    height: 40px;
    position: absolute;
    top: 1px;
    left: 22px;
    //background: #eceff1;
    background: transparent;
    box-shadow: inset 0 1px 0 0 #cfd8dc;
    width: calc(~'100% - 50px');
    text-align: left;
    padding-top: 19px;
    box-sizing: border-box;
  }

  //&__type-icon,
  //&__notification-icon {
  //  height: 20px;
  //  position: absolute !important;
  //  width: 20px;
  //  z-index: 200;
  //}

  //&__type-icon {
  //  left: 20px;
  //  top: 11px;
  //}

  & &__notification-icon {
    opacity: 0;
    top: 20px;
  }

  &_filled {
    .text-area__input {
      padding-top: @spacing4x;
    }

    .text-area__label {
      background: #eceff1;
      left: 21px;
    }
  }

  &_focused,
  &_disabled {
    &:after,
    .text-area__label {
      background: #fff;
      box-shadow: none;
    }
  }

  &_ta2,
  &_ta4,
  &_ta6,
  &_ta8 {
    .text-area__type-icon,
    .text-area__notification-icon {
      top: 21px;
    }

    .text-area__input {
      padding-left: 50px;
    }

    .text-area__label {
      padding-left: 30px;
    }
  }

  &_ta3,
  &_ta4,
  &_ta7,
  &_ta8 {
    .text-area__input,
    .text-area__label {
      font-size: 16px;
    }
  }

  &_valid,
  &_invalid {
    .text-area__notification-icon {
      opacity: 1;
    }
  }

  //&_valid {
  //  .text-area__label {
  //    background: #ddf7e5;
  //  }
  //}
  //
  //&_invalid {
  //  .text-area__label {
  //    background: #fff8e1;
  //  }
  //}

  &_valid.animated {
    .text-area__label {
      animation: showSuccessField .25s @easeInOutCubic .15s forwards, hideSuccessField .25s @easeInOutCubic .75s both;
    }

    &:after {
      animation: showSuccessBackground .25s @easeInOutCubic .15s forwards, hideSuccessBackground .25s @easeInOutCubic .75s both;
    }
  }
  &_invalid.animated {
    .text-area__label {
      animation: showErrorField .25s @easeInOutCubic forwards, hideErrorField .25s @easeInOutCubic .75s both;
    }
    &:after {
      animation: showErrorBackground .25s @easeInOutCubic forwards, hideErrorBackground .25s @easeInOutCubic .75s both;
    }
  }

  &__limit {
    bottom: 10px;
    color: @secodary;
    font-size: 11px;
    font-style: normal;
    font-weight: normal;
    position: absolute;
    right: 10px;
    text-align: right;
    z-index: 50;
  }

  &_ta7,
  &_ta8 {
    .text-area__limit {
      font-size: 13px;
    }
  }
}

/***--- Animation keyframes ---***/

@keyframes showSuccessBackground {
  0% {
    background: @light-grey;
  }
  100% {
    background: @light-green;
  }
}

@keyframes hideSuccessBackground {
  0% {
    background: @light-green;
  }
  100% {
    background: @light-grey;
  }
}

@keyframes showErrorBackground {
  0% {
    background: @light-grey;
  }
  100% {
    background: @warning-light;
  }
}

@keyframes hideErrorBackground {
  0% {
    background: @warning-light;
  }
  100% {
    background: @light-grey;
  }
}
